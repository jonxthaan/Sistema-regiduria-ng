<div class="d-sm-flex align-items-center justify-content-between mb-4">
    <h1 class="h3 mb-0 text-gray-800">Inscripción a Evento</h1>
</div>

<div class="row">

    <div class="col-lg-8">
        <div class="card shadow mb-4">
            <div class="card-header py-3 border-bottom-primary">
                <h6 class="m-0 font-weight-bold text-primary">Datos del Contingente Escolar</h6>
            </div>
            <div class="card-body">
                <form (ngSubmit)="registrar()">
                    
                    <div class="form-group">
                        <label class="font-weight-bold">Escuela Participante:</label>
                        <input type="text" class="form-control bg-light" 
                               [value]="usuario?.nombreEscuela || 'No identificado'" readonly>
                    </div>

                    <div class="form-group">
                        <label class="font-weight-bold text-primary">Seleccione Convocatoria: *</label>
                        <select class="form-control" [(ngModel)]="registro.convocatoriaId" name="convocatoriaId" required>
                            <option value="">-- Seleccione un evento --</option>
                            <option *ngFor="let c of listaConvocatorias" [value]="c.id">
                                {{ c.titulo }} ({{ c.fechaEvento }})
                            </option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label class="font-weight-bold">Total de Alumnos: *</label>
                            <input type="number" class="form-control" 
                                   [(ngModel)]="registro.cantidadAlumnos" name="cantidadAlumnos" 
                                   placeholder="Ej. 50" required>
                            <small class="text-muted">Cuente alumnos, banda de guerra y escolta.</small>
                        </div>
                        
                        <div class="form-group col-md-6">
                            <label class="font-weight-bold">Comentarios / Necesidades:</label>
                            <input type="text" class="form-control" 
                                   [(ngModel)]="registro.comentarios" name="comentarios" 
                                   placeholder="Ej. Llevamos sonido propio">
                        </div>
                    </div>

                    <hr>

                    <div class="form-group">
                        <div class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" id="checkConfirm" 
                                   [(ngModel)]="registro.confirmarAsistencia" name="confirmarAsistencia" required>
                            <label class="custom-control-label" for="checkConfirm">
                                Declaro que los datos son reales y confirmo nuestra asistencia.
                            </label>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-success btn-lg btn-block mt-4" 
                            [disabled]="!registro.confirmarAsistencia || !registro.convocatoriaId">
                        <i class="fas fa-check-circle mr-2"></i> Confirmar y Enviar Registro
                    </button>

                </form>
            </div>
        </div>
    </div>

    <div class="col-lg-4">
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-secondary">Instrucciones</h6>
            </div>
            <div class="card-body">
                <p>1. Seleccione el evento al que desea asistir.</p>
                <p>2. Indique el número aproximado de alumnos.</p>
                <p>3. En "Comentarios" puede indicar si lleva banda de guerra o banderines extra.</p>
                <hr>
                <div class="text-center">
                    <i class="fas fa-school fa-3x text-gray-300"></i>
                </div>
            </div>
        </div>
    </div>

</div>